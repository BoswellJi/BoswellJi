## 微前端

组织应用规模的解决方案，将应用相互拆分独立，使得开发者不会干涉其他应用。

### 微应用

- 所有普通的spa

### 拆分应用

- 拆分代码仓库，构建，部署

#### 拆分方法
- One code repo, one build
- npm package
- Monorepos
- Dynamic Module Loading

#### 微前端框架的必备特性

- html入口访问：通过`import-entry-html`获取页面源码字符串；
- 样式隔离
- js沙箱
  - 通过规范手段可以避免变量冲突读写，css样式冲突，但是只是规范并不可靠，所以需要沙箱；

#### 应用内通信

首先原则是：保持微前端解耦

#### 涉及到的技术

- Proxy
- Shadow DOM
- CustomEvent
- JS SandBox
  - 通过给执行的js包一层`with(global){}`实现
  - `iframe`实现
  - 根据当前微应用，生成一份`window`状态,离开后还原`指定微应用`状态实现
- 样式隔离
  - 通过添加选择器实现
  - 通过切换样式`删除，添加`实现
- 元素隔离
- 预加载
- 多框架兼容
- 应用间通信
- 渲染原理
- 资源地址补全
- 插件系统
- 数据通信

#### 沙箱

- 浏览器沙箱
- js沙箱