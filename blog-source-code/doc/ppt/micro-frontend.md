## 什么是微前端？

1. 将微服务的思想拓展到前端的一种新兴架构，背后主要思想是将一个单体代码库，拆解为多个较小的部分，以便多个相对独立的团队进行分工写作。
2. 与使用不同 JavaScript 框架的多个团队一起构建现代 Web 应用程序的技术、策略和秘诀。

提示：实际项目开发过程中，直接考虑到用微前端架构的应该是比较少的，大多都是项目发展到了一定程度后再进行架构升级。

## 为什么需要微前端？

#### 当前问题

- MPA 方案的优点在于 部署简单、各应用之间硬隔离，天生具备技术栈无关、独立开发、独立部署的特性。缺点则也很明显，应用之间切换会造成浏览器重刷，cookie 不通用问题，由于产品域名之间相互跳转，流程体验上会存在断点。
- SPA 则天生具备体验上的优势，应用直接无刷新切换，能极大的保证多产品之间流程操作串联时的流程性。缺点则在于各应用技术栈之间是强耦合的。

提示：MPA 满足微前端的要求，但是体验太差，SPA 体验好，但是不满足微前端要求，`所以，取个中`。

#### 核心价值

1. 我认为微前端的核心价值在于 "技术栈无关"，这才是它诞生的理由，或者说这才是能说服我采用微前端方案的理由。 --qiankun 作者
2. 事实上如果所有的 web 技术栈能做到统一，所有 library 的升级都能做到向下兼容，我们确实就不需要微前端了。 --qiankun 作者

提示：这里的关键字`兼容`，不同框架的兼容，框架不同版本的兼容。

#### 技术价值

- 技术无关
- 独立开发、独立部署 子应用仓库独立
- 独立运行时 每个子应用之间状态隔离，运行时状态不共享

提示：可以尝试不同的技术方案。

#### 业务价值

- 解构巨石应用
- 团队协作方便

提示：降本提效。

## 解决方案

- MPA(多页应用程序):
- Iframe:
- Web Component:
- ESM(ecmascript module):

提示：实现了微前端思想的方案即可称为微前端，殊途同归。

## 架构图

![](https://pic1.zhimg.com/v2-49e29d35de9548c02b0d48782714e914_r.jpg)

## 实现方案

- Single-Spa

- qiankun

## 参考

- [Micro Frontends](https://micro-frontends.org/)
- [微前端框架 之 single-spa 从入门到精通](https://juejin.cn/post/6862661545592111111)
- [微前端框架 之 qiankun 从入门到源码分析](https://juejin.cn/post/6885211340999229454)
- [Why Not Iframe](https://www.yuque.com/kuitos/gky7yw/gesexv)
- [微前端的核心价值](https://www.yuque.com/kuitos/gky7yw/rhduwc)
- [基于 qiankun 的微前端应用实践](https://zhuanlan.zhihu.com/p/356225293)
- [可能是你见过最完善的微前端解决方案](https://zhuanlan.zhihu.com/p/78362028)
