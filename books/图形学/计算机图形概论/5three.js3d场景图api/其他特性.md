## 浮雕立体

## 用户输入

## 阴影

## 立方体映射纹理和天空盒

## 反射和折射

在我的反射和折射案例中，环境是天空盒，以及有一个单独的反射或者折射环境的对象。但是如果一个场景包含更多的对象呢？对象不能出现在正方体映射纹理中。如果你在对象中使用正方体映射纹理，他们不能互相反射或者折射。在webgl中，对于这个问题没有完整的解决方案。但是，你能通过使环境包含这些对象来使得对象映射或者反射其他对象。如果对象一直移动，这意味着你不得不给每一帧创建一个新的环境映射。回想一下，一张环境地图可以通过不同方向拍摄六张图片。Three.js有一种照相机就能做到，THREE.CubeCamera。我不会深入全部细节，但是CubeCamera能够从一个指定的视点拍下6张场景图片，并且从这些图片中制造正方体映射纹理。为了使用照相机，你必须把他放在对象的位置，以及制造不可见对象这样它不会在图片上出现。拍下这张照片，并且将他作为环境映射应用到对象上。对于动画场景，你必须在每一帧都这么做，并且，你需要给场景中的每一个反射/折射对象做处理。明显地，这会带来高昂的计算复杂度。而且结果仍然不完美。首先，你不能看到多个反射，对象之间来回反射几次。为此，你需要一个来自opengl使用的不同类型的呈现。我们将在7.4.4子节的动态立方体映射再回到这个话题，以及在第八章中介绍替代的渲染技术。