享元模式是一个经典的用来优化重复，慢的以及无效共享数据的代码的结构化解决方案。它致力于通过和相关对象共享尽可能多的数据来最小化应用中内存的使用。（例如：应用程序配置，状态等等）

起初，这个模式是1990年由paul和mark构思的还是以拳击重量等级命名的，这个等级包括提供低于112磅的拳击手。命名享元是从权重分类中衍生出来的，因为它指的是模式要帮助我们实现的小权重（内存占用）。

在实践中，享元数据共享能设计几个相似的数据或者数据构造由许多对象来使用，以及放置数据到单独外部对象。我们可以将此对象传递给依赖此数据的对象，而不是跨每个对象存储相同的数据。

## 使用享元模式

有两种享元模式被应用的方式。第一种是数据层，我们在其中处理存储在内存中大量的相似对象的数量之间共享数据的概念。

第二种是dom层，享元在其中能够被应用为中心化实践管理器来避免联和实践处理器到每个我们希望有一些相同行为的父容器中的子元素。

传统地，因为数据层应用享元模式是最多的，我们会首先看看：

## 享元和共享的数据

对于这个应用程序，有不少我们需要知道的关于经典享元模式的概念。在享元模式中，有两个状态的概念，内部的，外部的，我们对象的内部方法可能需要内部信息，没有它们绝对不能工作。但是外部信息能够被删除和存储在外部。

相同的内部数据对象能被工厂方法创建的单独共享对象替换。这允许我们减少整体大量存储的隐式数据的数量。

这样的好处是我们能够对已经被实例化的对象保持关注，以至于之前创建的新副本，从我们已经有的对象中区分出内部状态。

我们使用管理器来处理外部状态。如何实现这一点可能会有所不同，但是实现的一种方法是有包含一个中心化的外部状态数据库的管理对象而且它们都属于享元对象。

## 实现经典享元

因为近年来，享元模式没有在js中重度使用，我们可能使用许多实现来自java和c++世界。

我们首先要看看代码中的享元是来自维基百科享元模式的java案例的js实现。

我们将进行这个实现中享元组件的三种类型的用法，排列在下面：

* 享元：对应到接口，通过接口，享元能够接受和对外部数据起作用。
* 具体的享元：实际地实现享元接口和存储内部的状态。具体的享元需要善于分享以及有维护外部状态的能力。
* 享元工厂：管理享元对象还要创建它们。

## 鸭冲实现

## 转换代码使用享元模式

## 一个基础工厂

## 管理外来的状态

## 享元模式和dom

## 案例1：中心化事件处理程序

## 案例2：使用享元来做性能优化