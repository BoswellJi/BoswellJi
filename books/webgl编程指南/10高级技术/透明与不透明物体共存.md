## 概述

* 通过某种机制可以同时实现，隐藏面消除和半透明效果；

* 只需要：
  - 开启隐藏面消除功能
  
  - 绘制所有不透明的物体

  - 锁定用于进行隐藏面消除的深度缓冲区，使之只读；
    - gl.depthMask(false)

  - 绘制所有半透明物体，注意应当按照深度排序，从后向前绘制
  
  - 释放深度缓冲区，使之可读可写
    - gl.depthMask(true)
    - `深度缓冲区中存储了每个像素的z坐标值（归一化为0.0到1.0之间）`

* 隐藏面消除的原理：
  - 先绘制一个三角形A，将它的每个片元的z值都写入深度缓冲区；
  - 然后绘制一个三角形B,将B中和A重叠的片元和深度缓冲区中对应像素的z值作比较；
  - 如果深度缓冲区中的z值较小，说明A在前，就把B这个片元舍弃掉；
  - 如果深度缓冲区中的z值较大，说明B在前，就把B的这个片元写入颜色缓冲区，将之前A的颜色覆盖；

* `深度缓冲区记录了每个像素(在最前面的的片元)的深度`