包含所有程序的作用域被称为全局作用域或者程序作用域。这个是你在进入script时的作用域（它是页面的script标签或者它是.js文件）。在全局作用域的内部，你能通过定义一个函数来创建一个嵌套的作用域。在这样的函数内部，你可以再嵌套作用域。每个作用域访问它自己的变量以及围绕它的作用域中的变量。因为全局作用域围绕所有其他作用域，它的变量能够再任何地方被访问。

```javascript
// here we are in global scope
var globalVariable = 'xyz';
function f() {
    var localVariable = true;
    function g() {
        var anotherLocalVariable = 123;

        // All variables of surround scopes are accessible
        localVariable = false;
        globalVariable = 'abc';
    }
}
// here we are again in global scope
```

## 最佳实践：避免全局变量

全局变量有两个缺点。第一，依赖全局变量的软件层面是项目的副作用；它们是不健壮的，行为不可预测的，已经不可维护的。

第二，在页面上的所有javascript共享相同的全局变量：你的代码，内置代码，分词代码，社会媒体按钮，等等。那个意味着命名冲突会变成一个问题。这就是为什么最好隐藏尽可能多的全局变量。例如，不要这样做：

```javascript
<!-- Don’t do this -->
<script>
    // Global scope
    var tmp = generateData();
    processData(tmp);
    persistData(tmp);
</script>
```

变量tmp变成了全局的，因为它的定义在全局作用域中被执行。但是它只在本地被使用。因此，我们能使用IIFE来隐藏它在一个嵌套的内部作用域中。

## 模块系统导致更少的全局

感谢的是，模块系统几乎消除了全局变量的问题。因为通过全局作用域模块没有接口，以及因为每一个模块都有自己的模块全局变量。