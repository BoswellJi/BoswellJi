## webgl简介

* webgl基础
* 如何使用即时模式api
* 图形硬件初步
* webgl图形流水线
* webgl必备的线性代数知识

## 基础

* 以openGL es作为基础，与openGL一样，提供绘图（rendering(api)）功能；
* webgl绘制的曲面，本质上是html5的画布；canvas最早是由苹果公司引入webkit(开源浏览器引擎)，当初是为了在 Dashboard小部件等应用程序和 Mac OS X操作系统的safari浏览器中绘制二维图形；

## 其他技术

* openGL ES 用于嵌入式设备
* openCL    用于并行程序设计
* openVG    用于矢量图形底层加速
* openMAX   用于加速多媒体部件
* openGlL   用于台式机的3D图形api

## 优势

* 应用程序是在web浏览器中执行的，因此相对比较容易得到跨平台的支持（windows, linux, Mac OS）
* webgl实现了浏览器内部3D图形的硬件加速

## 设计一个图形api：基本上采用以下两种不同的模式

* 应用程序（webgl应用） ---> 图形库（webgl） ---> 显示器
  + 应用程序中的 `模型` 指的式，提供绘制图形数据；

  

* 即时模式api
  + 每一帧的场景，不管是否已经发生变化，都需要重新绘制；
  + 提供api的图形库 `（webgl）` 并没有保存需要绘制场景的内部模型

* 保留模式api `（svg`
  + 内部包含一个模型或者场景图形，包含了所有需要绘制的对象
  + 图形库决定什么时候需要屏幕执行实际的绘制
  + 调用保留模式api，需要更新这个内部模型

## 图形硬件(gpu)

* webgl是一个低级api, 因此它与实际的图形硬件密切相关；
* 为了显示3D图形，应用程序需要不断调用底层驱动程序，驱动程序通过总线把图形数据发送到图形处理单元 `gpu`

## GPU

* 专门设计的图形绘制设备，绘制输出在屏幕上的图像，GPu是高度并行化的，速度很快
* GPU: 数据从流水线的一个阶段传送到下一个阶段
* webgl: `图形流水线` 也是由多个阶段组成；他们与 `GPU物理流水线` 的各个阶段相对应；

## 帧缓存: 一个存储器

* 图形数据通过整个GPU流水线传从后，最后写到帧缓存中（framebuffer）
* 保存了最终显示在屏幕上图像的全部信息
* 用作帧缓存的物理内存有几种不同的位置
* 颜色缓存 + Z-缓存 + 模板缓存
  + 颜色缓存：矩形阵列的存储器，以RGB或RGBA格式保存屏幕上每个像素的颜色； 16位 24位 32位
  + Z-缓存： 3D场景中，一个对象可能会被其他对象遮挡，整个场景绘制完成时，颜色缓存中不会有被隐藏对象的像素信息，这通常是由Z-缓存来实现的（也叫深度缓存

## webgl图形流水线

* 可编程着色器的源代码 和 3D模型如何绘制的信息

## openGL历史

01. SGI为工作站专门设计了3D图形api,IRIS GL API;
02. 增加较多功能，所以需要实现向后兼容；
03. IRIS GL api后来变得越来越难以维护，也越来越难使用；
04. 所以这时候，需要开发一个开放的标准；
05. 标准使得程序员比较容易建立与他们的图形硬件相兼容的软件；
06. SGI公司开始从头设计openGL；
07. openGL结构评审委员会决定openGL未来（openGL ARB）
08. openGL ARB 转交给 Khronos小组（同时该组织也负责webgl规范
09. openGL的升级策略，总是保证新版本的向后兼容
10. 带有可编程着色器的openGL与webGL十分相似

## openGL es

01. webgl的蓝本是opengl es 2.0
02. opengl es 2.0无法与以前的版本实现向后兼容

## Direct3D

01. DirectX是微软多媒体和游戏编程api的名称
02. Reality Lab 3D 图形 api
03. 微软利用上面的技术开发了Direct3D的第一个版本
04. 造成台式3D图形的分崩离析，但同时也造成3D图形行业的健康竞争
05. openGL Direct3D
06. Direct3D第八版本，加入可编程着色器
07. 第九版推出 `高级着色器语言HLSL`

## HTML5画布

01. html的第5版本;
02. canvas是web页面中的一个矩形区域，在这个区域我们可以用 `javascript` 语言编写 `绘制图形` 的代码；
03. Dashboard是包含许多小部件Widgets的小型应用程序，这些 `小部件` 与 `web页面` 一样，都是建立在 `html,css，javascript` 等技术之上的；
04. Dashboard和safari web浏览器一样，都是使用`webkit开源浏览器引擎`绘制web内容；

## 可缩放矢量图形
1. 一个用xml格式描述`2D图形`的语言；
2. 使用点，线，曲线等集合图元，把这些几何图元保存为数学表达式；
3. 显示矢量图形的程序，根据这些数学表达式生成屏幕上的图像；
4. 这样会使，用户放大图形，svg生成的图像保持一样的清晰度；
5. 微软等公司以`建议标准`的形式向w3c提供了矢量标志语言（VML）；
6. adobe等公司提出另一个`建议标准`,精密图形标志语言（PGML）;
7. w3c从两种`建议标准`各取一部分，组成`svg`(SVG)，2001年称为w3c的推荐标准；
8. svg包含svg(svg Tiny)微型版【针对低端移动设备】，svg(svg Basic)基础版【针对高端移动设备】
9. 基于文本的

## VRML和X3D
1. VRML: 用于描述3D图形的，基于xml的虚拟显示标志语言
3. X3D： 是VRML的后继者

# 线性代数

## 内容
1. 高等数学的一部分，研究对象是向量，和矩阵；

## 目的
1. 为了更好的理解3D图形，webgl；

### 坐标系
1. 为了`确定在哪个位置`绘制webgl对象，需要定义一个坐标系；
2. 也叫做`空间`
3. webgl使用三维，正交，右手坐标系；
4. 每个轴都被`归一化`为`单位长度`(是单位长度，不是长度单位)，其实也就是`1`

### 点与顶点
1. 数学中，点是最基本的构造单元，通过它可以生成其他图形；
2. 当`点`用来定义`3D图形`中其他几何图形，通常被称为`顶点`

### 矢量
1. 许多物理量（温度，质量等）与空间中的任何方向无关，完全由数值大小来定义，这些量称为`标量`；
2. 其他物理量（速度，加速度或者力）需要用一个数值和一个方向才能得到完全的定义，这些量为`矢量`；
3. 矢量是两点之差，没有位置，但有长度和方向
4. 这个矢量（x,y,x）与 以原点为起点，（x,y,z）坐标为终点的矢量具有相同的方向和相同的长度；
5. 从`终点-起点 = 这个矢量`

### 矢量的点积或者标积

### 叉积

### 齐次坐标

### 矩阵
